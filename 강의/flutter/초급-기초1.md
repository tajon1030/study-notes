~~~dart
import 'package:flutter/material.dart';

// 'android/app/build.gradle'

void main() {
  // 플러터 앱을 실행한다
  runApp(
    // MaterialApp은 항상 최상위에 위치한다 (암기)
    // Scaffold는 바로 아래에 위치한다. (암기)
    // 위젯 - 화면에 무언가를 보여주게 하는 요소
    MaterialApp(
      // MeterialApp 매테리얼 디자인(플러터에있는 디자인)을 사용할수있게 해주는 위젯
      debugShowCheckedModeBanner: false,
      home: Scaffold(
        // Scaffold 화면에 구조를 만들수있게 해주는 위젯
        backgroundColor: Colors.black, // 배경색
        // body: 컨텐츠를 넣을수 있는 부분
        body: Center(
          // Center 가운데정렬위젯
          child: Text(
            // Text 글자를 보여주는 위젯
            'Code Factory',
            style: TextStyle(
              color: Colors.white, // 텍스트색상
            ),
          ),
        ),
      ),
    ),
  );
}
~~~

위젯트리 : UI를 렌더링하는데 사용되는 계층구조  
(parent Widget) MaterialApp -> Scaffold -> Center -> Text  (child Widget)  


스플래시 스크린 : 앱제작시 로딩하거나 시작할때 대기하는동안 보여주는 스크린  
스크린이 보여지는 동안 로그인사용자 검증, 어떤 화면 보여줄지 정하는 로직 실행등이 이루어짐  

asset 폴더 : 앱에서 사용하는 이미지나 특정 파일을 두는 공간  
asset 폴더를 추가해 준 뒤 pubspec.yml 에 등록을 해준다.  
~~~yml
flutter:
  assets:
    - asset/img/
~~~

- mainAxisAlignment : 중앙축 기준 정렬  
- children : 여러 위젯을 사용할수있게 해줌  
- CircularProgressIndicator : 동그란 로딩바  
- StatelessWidget : 클래스에 상속받게해서 build함수를 통해 위젯값을 리턴시켜줌(stless단축키) -> hotReload(번개표시버튼)으로 재빌드가능  
- Padding : 여백을 넣어줌. 여기서 EdgeInsets.symmetric를 사용하여 대칭을 이루도록 여백 생성 가능  
- SizedBox : 기본값이 투명해서 간격을 둘때 padding대신 사용하기도 함  

~~~dart
import 'package:flutter/material.dart';

void main() {
  runApp(
    MaterialApp(home: HomeWidget()),
  );
}

class HomeWidget extends StatelessWidget {
  const HomeWidget({super.key});

  @override
  Widget build(BuildContext context) {
    return Scaffold(
      backgroundColor: Color(0xff78c72e),
      body: Padding(
        padding: EdgeInsets.symmetric(horizontal: 30.0),
        child: Column(
          mainAxisAlignment: MainAxisAlignment.center,
          children: [
            Image.asset('asset/img/logo.png'),
            SizedBox(
              height: 28.0,
            ),
            CircularProgressIndicator(
              color: Colors.white,
            ),
          ],
        ),
      ),
    );
  }
}

~~~

### Row, Column
Row : 가로로 위젯을 배치할때 사용    
Column : 세로로 위젯을 배치할때 사용  
MainAxisAlignment : 주축  
CrossAxisAlginment : 반대축  
특별한 제한사항이 없다면 Row, Column위젯의 주축은 최대크기를 차지하고,  
반대축은 최소크기를 차지한다.  

### MainAxisAlignment 옵션들  
- start 시작정렬
- end 끝정렬
- center 중앙정렬
- spaceBetween 자식이 양끝에 있고, 위젯 **사이** 동일한 간격
- spaceAround 양끝은 n만큼, 위젯사이는 2n만큼의 간격
- spaceEvenly 양끝, 위젯사이 n만큼의 간격

### CrossAxisAlignment 옵션들
- start
- end
- center
- stretch 위젯들을 최대로 확장
- baseline 텍스트 기준선을 기준으로 위젯 정렬


Container : 다른 위젯을 담는 위젯, 디자인요소를 넣을수있음  
SafeArea : 상태바등을 제외한 나머지위젯에서부터 위젯이 시작되도록 한다. 주로 스케폴드 바디 최상단에 입력  
Expended : Column안에서 남는 공간을 전부다 최대한 차지(여러개사용하면 비율을 똑같이 차지하도록, 비율을 다르게하고싶다면 flex 옵션 사용)  
Flexible : fit옵션을 이용하여 Flexible위젯이 차지하는만큼 형제위젯이 차지할수있도록 할수있냐 없냐를 결정할수있음(FlexFit.tight로 하면 Expended와 동일)    

~~~dart  
import 'package:flutter/material.dart';

class HomeScreen extends StatelessWidget {
  const HomeScreen({super.key});

  @override
  Widget build(BuildContext context) {
    return Scaffold(
      body: SafeArea(
        child: Container(
          color: Colors.black,
          height: double.infinity,
          child: Column(children: [
            Flexible(
              flex: 2,
              fit: FlexFit.tight,
              child: Container(
                height: 50.0,
                width: 50.0,
                color: Colors.red,
              ),
            ),
            Expanded(
              child: Container(
                height: 50.0,
                width: 50.0,
                color: Colors.orange,
              ),
            ),
            Expanded(
              child: Container(
                height: 50.0,
                width: 50.0,
                color: Colors.yellow,
              ),
            ),
          ]),
        ),
      ),
    );
  }
}

~~~

~~~dart
import 'package:flutter/material.dart';

const colors = [
  Colors.red,
  Colors.orange,
  Colors.yellow,
  Colors.green
];
~~~  
~~~dart
import 'package:flutter/material.dart';

import '../const/colors.dart';

class HomeScreen extends StatelessWidget {
  const HomeScreen({super.key});

  @override
  Widget build(BuildContext context) {
    return Scaffold(
      body: SafeArea(
        child: Column(
          mainAxisAlignment: MainAxisAlignment.spaceEvenly,
          children: [
            Row(
              mainAxisAlignment: MainAxisAlignment.spaceAround,
              children: colors
                  .map((e) => Container(
                        color: e,
                        height: 50,
                        width: 50,
                      ))
                  .toList(),
            ),
            Row(
              mainAxisAlignment: MainAxisAlignment.center,
              children: [
                Container(
                  width: 50,
                  height: 50,
                  color: Colors.orange,
                )
              ],
            ),
            Row(
              mainAxisAlignment: MainAxisAlignment.end,
              children: colors
                  .map((e) => Container(
                        color: e,
                        height: 50,
                        width: 50,
                      ))
                  .toList(),
            ),
            Row(
              mainAxisAlignment: MainAxisAlignment.center,
              children: [
                Container(
                  color: Colors.green,
                  width: 50,
                  height: 50,
                )
              ],
            ),
          ],
        ),
      ),
    );
  }
}

~~~

### Padding
EdgeInsets.all() : 상하좌우에 동일값 추가  
EdgeInsets.symmetric() : 대칭으로 추가  
EdgeInsets.only() : 상화좌우 커스텀 추가(named parameter)  
EdgeInsets.fromLTRB() : 상하좌우 커스텀추가(무조건 왼위오아순서)  

### AppBar  
상단 제목(안드로이드는 좌기본 ios는 가운데 기본)  
centerTitle: true 가운데정렬, false 왼쪽정렬  

### 외부패키지
Pub.dev 사이트에서 원하는 패키지 pubspec.yml(dependencies)에 추가   

### 시멘틱 버저닝(sementic versioning)  
소프트웨어 버전관리의 표준화된 규칙  
[Major].[Minor].[Patch]  
Major - 하위호환성을 깨뜨리는 중요한 변경이 있을경우. 주로 기존 api의 변경이나 기능의 큰 변화  
Minor - 하위호환성을 유지하면서 기능이 추가될경우.  
Patch - 하위호환성을 유지하면서 기존기능 버그 수정할 경우  
마이너 버전 업덷이트가 아니라면 패키지 사용방법이 변하지않고, ^을 사용하여 메이저버전 업데이트외의 모든 버전은 최신버전으로 유지할수있다. ex)^4.3.2  


### 웹뷰
웹사이트를 볼수있는 위젯  
ios는 기본적으로 js활성화  
안드로이드 비활성화 -> setJavaScriptMode()  

### 콜백함수  
콜백함수이용하여 홈으로 이동하기  

~~~dart
import 'package:flutter/material.dart';
import 'package:webview_flutter/webview_flutter.dart';

final homeUrl = Uri.parse('https://github.com/tajon1030');

class HomeScreen extends StatelessWidget {
  WebViewController controller = WebViewController()
    ..setJavaScriptMode(JavaScriptMode.disabled)
    ..loadRequest(homeUrl); // ..점두개: 함수를 실행한 '대상'을 반환

  HomeScreen({super.key});

  @override
  Widget build(BuildContext context) {
    return Scaffold(
      appBar: AppBar(
        backgroundColor: Colors.green,
        title: Text('Code Factory'),
        centerTitle: true,
        actions: [ // 앱바 오른쪽에 위젯 삽입
          IconButton( 
            onPressed: () {
              print('pressed');
              controller.loadRequest(homeUrl);
            },
            icon: Icon(Icons.home), // Icons 기본정의 아이콘
          ),
        ],
      ),
      body: WebViewWidget(
        controller: controller,
      ),
    );
  }
}

~~~  

## StatefulWidget
위젯 : 화면에 보여지는 클래스로 표현한 요소  
UI를 표현하는 위젯 : Stateless/Stateful Widget  
위젯은 **불변** -> 새로생성하려면 build함수를 재실행해야함  
HotReload는 개발자도구에서 사용하므로 다른 방법이 필요 -> setState함수는 빌드를 재실행(statefulWidget에 있음)  

참고) 플러터 처음 실행될때에는 빌드가 두번일어남  

~~~dart
import 'package:flutter/material.dart';

class HomeScreen extends StatefulWidget {
  const HomeScreen({super.key});

  @override
  State<HomeScreen> createState() => _HomeScreenState();
}

class _HomeScreenState extends State<HomeScreen> {
  Color color = Colors.blue;

  @override
  Widget build(BuildContext context) {
    return Scaffold(
      body: Container(
        width: double.infinity,
        child: Column(
          mainAxisAlignment: MainAxisAlignment.center,
          children: [
            ElevatedButton(
              onPressed: () {
                if(color == Colors.blue){
                  color = Colors.red;
                }else{
                  color = Colors.blue;
                }
                setState(() {
                });
                print('색상변경 color : $color');
              },
              child: Text('색상변경 color'),
            ),
            SizedBox(
              height: 32.0,
            ),
            Container(
              width: 50.0,
              height: 50.0,
              color: color,
            )
          ],
        ),
      ),
    );
  }
}
~~~

## 위젯 라이프 사이클(매우중요 암기)
### StatelessWidget 라이프사이클
constructor()->build()  

### StatefulWidget 라이프사이클
StatefulWidget클래스] Constructor()->createState()->  
State클래스] initState()->didChangeDependencies()->dirty->build()->clean (->setState() -> dirty-> build() -> clean -> ...)  
->deactivate()->dispose()  

### 재실행때
Constructor() -> didUpdateWidget() -> dirty -> build() -> clean -> ...

### 설명
createState() : 처음생성할때 실행. 재실행시에는 기존에 존재하던 State클래스를 찾아서 기존존재하던 상태를 그대로 유지할수있음  
initState() : 생성자와 거의 똑같은기능으로 인스턴스화됏을때 한번만 실행/context를 사용하지못함  
didChangeDependencies() : State클래스가 의존하고있는 의존성이 변경됏을때 다시 실행  
ex)Theme.of, MediaQuery.of  
dirty/clean : State클래스의 상태(빌드가 실행되기바로전후의 상태)  
deactivate(), dispose() : State클래스가 사라질경우 순서대로 실행  
didUpdateWidget() : 재실행시에 기존 존재하던 State위젯을 찾고나서 업데이트가됐는지 알아보는 함수  
참고) State클래스는 Widget클래스의 변수를 제공해줌(widget.xxx)  

~~~dart
import 'package:flutter/material.dart';

class HomeScreen extends StatefulWidget {
  const HomeScreen({super.key});

  @override
  State<HomeScreen> createState() => _HomeScreenState();
}

class _HomeScreenState extends State<HomeScreen> {
  bool show = false;
  Color color = Colors.red;

  @override
  Widget build(BuildContext context) {
    return Scaffold(
      body: SizedBox(
        width: double.infinity,
        child: Column(
          mainAxisAlignment: MainAxisAlignment.center,
          children: [
            if (show)
              GestureDetector(
                child: CodeFactoryWidget(color: color),
                onTap: (){
                  setState(() {
                    color = color == Colors.blue ? Colors.red : Colors.blue;
                  });
                },
              ),
            SizedBox(
              height: 32,
            ),
            ElevatedButton(
                onPressed: () {
                  setState(() {
                    show = !show;
                  });
                },
                child: Text('클릭해서 보이기/안보이기'))
          ],
        ),
      ),
    );
  }
}

class CodeFactoryWidget extends StatefulWidget {
  final Color color;

  CodeFactoryWidget({super.key, required this.color}) {
    print('1) Stateful Widget Constructor');
  }

  @override
  State<CodeFactoryWidget> createState() {
    print('2) Stateful Widget createState');
    return _CodeFactoryWidgetState();
  }
}

class _CodeFactoryWidgetState extends State<CodeFactoryWidget> {
  @override
  void initState() {
    print('3) Stateful Widget initState');
    super.initState();
  }

  @override
  void didChangeDependencies() {
    print('4) Stateful Widget didChangeDependencies');
    super.didChangeDependencies();
  }

  @override
  Widget build(BuildContext context) {
    print('5) Stateful Widget build');
    return Container(
      width: 50,
      height: 50,
      color: widget.color,
    );
  }

  @override
  void deactivate() {
    print('6) Stateful Widget deactivate');
    super.deactivate();
  }

  @override
  void dispose() {
    print('7) Stateful Widget dispose');
    super.dispose();
  }
}

~~~


