# 자바 동시성 프로그래밍[리액티브 프로그래밍 파트1]

인프런 정수원님의 자바 동시성 프로그래밍 파트1 강의를 듣고 정리한 내용입니다.



## 1. 운영체제 기본  
- 프로세스 & 스레드  
- Parallel & Concurrent(병렬성과 동시성)  
- 컨텍스트스위치  
- CPU 바운드 / IO 바운드  
- 사용자모드 & 커널모드  
- 사용자 수준 스레드 & 커널 수준 스레드  

### 프로세스 & 스레드  
#### 프로세스  
운영체제에 의해 파일시스템에 설치되어있는 파일 : 프로그램  
이 프로그램데이터들이 **메모리에 올라와서 CPU를 할당받고 명령을 수행하고있는 상태**가 프로세스  
=> **프로세스는 운영체제로부터 자원을 할당받은 최소작업단위이다.**  
운영체제는 각 프로세스마다 독립된 메모리영역(Code/Data/Heap/Stack)을 할당해준다  
=> 프로세스간 영향 받지않고 독립적 작업 수행 가능  
프로세스간 통신을 하고싶다면 IPC나 공유메모리등의 기법을 사용해야한다.  

#### 스레드
**CPU에게 할당받은 자원을 이용하는 최소 실행단위(흐름의 단위)**  
하나의 프로세스는 하나이상의 스레드를 갖는다.  
스레드는 프로세스 내에서 필요한 각 **Stack만 할당**받고 **Code,Data,Heap영역은 공유**한다.  
스택영역인 지역변수,매개변수, 메소드 관련 정보들은 서로 공유가 되지 않는다.  
스레드간 메모리스택영역에 접근할수없으므로 독립적 실행흐름을 가질수있게되어 독립적 함수 호출이 가능해진다.  

#### CPU와 스레드
CPU는 **동시에 두개의 스레드를 실행시킬수없다.**  
스케줄러알고리즘에 따라 한개의 스레드가 선점되어 CPU에할당된다.  
=> 스레드간 선점이 일어날때 CPU의 실행흐름이 전환되는 컨텍스트스위칭이 발생한다.  

#### Process vs Thread
- 프로세스 :  
여러개의 자식 프로세스 중 하나에 문제가 발생하더라도 그 자식프로세스만 죽고 전체에는 영향을 미치지않는다(안전성 확보)  
프로세스간 전환이 일어날때 발생하는 컨텍스트스위칭으로 인한 비용이 스레드보다는 크다.  
프로세스간 통신기법이 어렵다.  
프로세스 생성시 독립적으로 할당되기때문에 리소스비용이 크다.  
- 스레드 :  
여러개의 스레드 중 하나에 문제가 발생하면 프로세스 자체가 종료될 수 있다.   
**스레드간 공유메모리영역의 동시접근으로인한 동기화문제가 발생한다**